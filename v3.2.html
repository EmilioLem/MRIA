<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    *{
      background-color: black;
      color: white;
      /* -webkit-box-shadow: -4px 7px 34px 13px rgba(255,255,255,0.62);  */
      
    }
    video, canvas{
      box-shadow: -4px 7px 34px 13px white;
      margin: 30px;
    }
  </style>
</head>

<body>
  <video muted autoplay id="videoO"></video>
  <canvas id="Vcanvas"></canvas>
  <script>
    
    
    
    //https://jsfiddle.net/rxbe1zj3/
    //navigator.getUserMedia is long deprecated. Use navigator.mediaDevices.getUserMedia now.
    //Mess with this document https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#front_and_back_camera
    
    const Vcanvas = document.getElementById("Vcanvas");
    var Vctx = Vcanvas.getContext("2d");
    const videoO = document.getElementById("videoO");
    
    
    const pW = 128;
    const pH = 72;

    navigator.mediaDevices.getUserMedia({ // <-- gets the media
      audio: false,
      video: {
        width: pW,//{min: 192, ideal: 1080, max: 1920},
        height: pH,//{min: 144, ideal: 720, max: 1080},
        frameRate: { min: 1, ideal: 30, max: 120 },
        facingMode: 'environment' //or "user"
      }
    }).then(stream => { //-> place the media on the video
        videoO.srcObject = stream;

        Vcanvas.width = videoO.width = pW;
        Vcanvas.height = videoO.height = pH;
        //setTimeout(setUpCanvas, 777);
        setInterval(frameRendering, 33.33);
      }).catch(console.error);

      function frameRendering(){
        Vctx.drawImage(videoO, 0, 0)
      }
      

    /*function setUpCanvas() {
      //Vcanvas.width = videoO.width = 128;
      //Vcanvas.height = videoO.height = 72;
      alert("Ready");
    }*/

  </script>
</body>

</html>
